(()=>{"use strict";var e,a={"./app/fields/array.js":(e,a,t)=>{t.r(a),t.d(a,{Instance:()=>m,default:()=>p});var n=t("jquery"),r=t.n(n),o=t("./node_modules/sortablejs/modular/sortable.esm.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,a,t){return a&&l(e.prototype,a),t&&l(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var a=function(e,a){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==i(a)?a:a+""}var u=r()("body"),f=function(){return c((function e(a){s(this,e),this.container=r()(a),void 0===this.getName()&&(this.container=this.container.closest("[data-grav-array-name]"))}),[{key:"getName",value:function(){return this.container.data("grav-array-name")||""}},{key:"getKeyPlaceholder",value:function(){return this.container.data("grav-array-keyname")||"Key"}},{key:"getValuePlaceholder",value:function(){return this.container.data("grav-array-valuename")||"Value"}},{key:"isValueOnly",value:function(){return this.container.find('[data-grav-array-mode="value_only"]:first').length||!1}},{key:"isTextArea",value:function(){return this.container.data("grav-array-textarea")||!1}},{key:"shouldBeDisabled",value:function(){var e=this.container.closest(".form-field").find('[data-grav-field="toggleable"] input[type="checkbox"]');return e.length&&e.is(":not(:checked)")}},{key:"getNewRow",value:function(){var e="",a=this.isTextArea()?"<textarea ".concat(this.shouldBeDisabled()?'disabled="disabled"':"",' data-grav-array-type="value" name="" placeholder="').concat(this.getValuePlaceholder(),'"></textarea>'):"<input ".concat(this.shouldBeDisabled()?'disabled="disabled"':"",' data-grav-array-type="value" type="text" name="" value=""  placeholder="').concat(this.getValuePlaceholder(),'" />');return this.isValueOnly()?e+='\n            <div class="form-row array-field-value_only" data-grav-array-type="row">\n                <span data-grav-array-action="sort" class="fa fa-bars"></span>\n                '.concat(a,"\n            "):e+='\n            <div class="form-row" data-grav-array-type="row">\n                <span data-grav-array-action="sort" class="fa fa-bars"></span>\n                <input '.concat(this.shouldBeDisabled()?'disabled="disabled"':"",' data-grav-array-type="key" type="text" value="" placeholder="').concat(this.getKeyPlaceholder(),'" />\n                ').concat(a,"\n            "),e+='\n            <span data-grav-array-action="rem" class="fa fa-minus"></span>\n            <span data-grav-array-action="add" class="fa fa-plus"></span>\n        </div>'}}])}(),p=function(){return c((function e(){var a=this;s(this,e),u.on("input",'[data-grav-array-type="key"], [data-grav-array-type="value"]',(function(e){return a.actionInput(e)})),u.on("click touch",'[data-grav-array-action]:not([data-grav-array-action="sort"])',(function(e){return a.actionEvent(e)})),this.arrays=r()(),r()('[data-grav-field="array"]').each((function(e,t){return a.addArray(t)})),r()("body").on("mutation._grav",this._onAddedNodes.bind(this))}),[{key:"addArray",value:function(e){(e=r()(e)).find('[data-grav-array-type="container"]').each((function(e,a){(a=r()(a)).data("array-sort")||a[0].hasAttribute("data-array-nosort")||a.data("array-sort",new o.default(a.get(0),{handle:".fa-bars",animation:150}))}))}},{key:"actionInput",value:function(e){var a=r()(e.target),t=a.data("grav-array-type");this._setTemplate(a);var n=a.data("array-template"),o="key"===t?a:a.siblings('[data-grav-array-type="key"]:first'),i="value"===t?a:a.siblings('[data-grav-array-type="value"]:first'),s=n.isValueOnly()?this.getIndexFor(a):o.val();s=s.toString().replace(/\[/g,"%5B").replace(/]/g,"%5D");var l="".concat(n.getName(),"[").concat(s,"]");n.isValueOnly()||o.val()||i.val()?i.attr("name",l):i.attr("name",""),this.refreshNames(n)}},{key:"actionEvent",value:function(e){e&&e.preventDefault();var a=r()(e.target),t=a.data("grav-array-action"),n=a.parents('[data-grav-array-type="container"]');this._setTemplate(a),this["".concat(t,"Action")](a);var o=n.find("> div");n[o.length>1?"removeClass":"addClass"]("one-child")}},{key:"addAction",value:function(e){var a=e.data("array-template");e.closest('[data-grav-array-type="row"]').after(a.getNewRow())}},{key:"remAction",value:function(e){var a=e.data("array-template"),t=e.closest('[data-grav-array-type="row"]');if(!t.siblings().length){var n=r()(a.getNewRow());t.after(n),n.find('[data-grav-array-type="value"]:last').attr("name",a.getName())}t.remove(),this.refreshNames(a)}},{key:"refreshNames",value:function(e){if(e.isValueOnly()){var a=e.container.find('> div > [data-grav-array-type="row"]'),t=a.find('[name]:not([name=""])');t.each((function(e,a){var t=(a=r()(a)).attr("name");t=t.replace(/\[\d+\]$/,"[".concat(e,"]")),a.attr("name",t)})),t.length||a.find('[data-grav-array-type="value"]').attr("name",e.getName())}}},{key:"getIndexFor",value:function(e){var a=e.data("array-template"),t=e.closest('[data-grav-array-type="row"]');return a.container.find("".concat(a.isValueOnly()?"> div ":"",' > [data-grav-array-type="row"]')).index(t)}},{key:"_setTemplate",value:function(e){e.data("array-template")||e.data("array-template",new f(e.closest("[data-grav-array-name]")))}},{key:"_onAddedNodes",value:function(e,a){var t=this,n=r()(a).find('[data-grav-field="array"]');n.length&&n.each((function(e,a){a=r()(a),~t.arrays.index(a)||t.addArray(a)}))}}])}(),m=new p},"./app/fields/file.js":(e,a,t)=>{t.r(a),t.d(a,{Instances:()=>g,default:()=>p});var n=t("jquery"),r=t.n(n),o=t("./node_modules/dropzone/dist/dropzone.js"),i=t.n(o),s=t("grav-form");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var a=function(e,a){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==l(a)?a:a+""}var u={dictCancelUpload:s.translations.PLUGIN_FORM.DROPZONE_CANCEL_UPLOAD,dictCancelUploadConfirmation:s.translations.PLUGIN_FORM.DROPZONE_CANCEL_UPLOAD_CONFIRMATION,dictDefaultMessage:s.translations.PLUGIN_FORM.DROPZONE_DEFAULT_MESSAGE,dictFallbackMessage:s.translations.PLUGIN_FORM.DROPZONE_FALLBACK_MESSAGE,dictFallbackText:s.translations.PLUGIN_FORM.DROPZONE_FALLBACK_TEXT,dictFileTooBig:s.translations.PLUGIN_FORM.DROPZONE_FILE_TOO_BIG,dictInvalidFileType:s.translations.PLUGIN_FORM.DROPZONE_INVALID_FILE_TYPE,dictMaxFilesExceeded:s.translations.PLUGIN_FORM.DROPZONE_MAX_FILES_EXCEEDED,dictRemoveFile:s.translations.PLUGIN_FORM.DROPZONE_REMOVE_FILE,dictRemoveFileConfirmation:s.translations.PLUGIN_FORM.DROPZONE_REMOVE_FILE_CONFIRMATION,dictResponseError:s.translations.PLUGIN_FORM.DROPZONE_RESPONSE_ERROR};i().autoDiscover=!1;var f={createImageThumbnails:{thumbnailWidth:150},addRemoveLinks:!1,dictDefaultMessage:u.dictDefaultMessage,dictRemoveFileConfirmation:u.dictRemoveFileConfirmation,previewTemplate:""},p=function(){return e=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.container,n=void 0===t?".dropzone.files-upload":t,o=a.options,l=void 0===o?{}:o;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=r()(n),this.container.length&&(this.urls={},f.previewTemplate=r()("#dropzone-template").html(),this.options=Object.assign({},u,f,{klass:this,url:this.container.data("file-url-add")||s.config.current_url,acceptedFiles:this.container.data("media-types"),init:this.initDropzone},this.container.data("dropzone-options"),l),this.dropzone=new(i())(n,this.options),this.dropzone.on("complete",this.onDropzoneComplete.bind(this)),this.dropzone.on("success",this.onDropzoneSuccess.bind(this)),this.dropzone.on("removedfile",this.onDropzoneRemovedFile.bind(this)),this.dropzone.on("sending",this.onDropzoneSending.bind(this)),this.dropzone.on("error",this.onDropzoneError.bind(this)))},(a=[{key:"initDropzone",value:function(){var e=this,a=this.options.klass.container.find("[data-file]"),t=this;a.length&&a.each((function(a,n){var o=(n=r()(n)).data("file"),s={name:o.name,size:o.size,type:o.type,status:i().ADDED,accepted:!0,url:e.options.url,removeUrl:o.remove,data:o};t.files.push(s),t.options.addedfile.call(t,s),s.type.match(/^image\//)&&t.options.thumbnail.call(t,s,o.path),n.remove()}))}},{key:"getURI",value:function(){return this.container.data("mediaUri")||""}},{key:"onDropzoneSending",value:function(e,a,t){var n=this.container.closest("form"),r=n.find('[name="__unique_form_id__"]');t.append("__form-name__",n.find('[name="__form-name__"]').val()),r.length&&t.append("__unique_form_id__",r.val()),t.append("__form-file-uploader__",1),t.append("name",this.options.dotNotation),t.append("form-nonce",s.config.form_nonce),t.append("task","filesupload"),t.append("uri",this.getURI())}},{key:"onDropzoneSuccess",value:function(e,a,n){if(this.options.reloadPage&&t.g.location.reload(),a&&"error"===a.status)return this.handleError({file:e,data:a,mode:"removeFile",msg:"<p>".concat(s.translations.PLUGIN_FORM.FILE_ERROR_UPLOAD," <strong>").concat(e.name,"</strong></p>\n                <pre>").concat(a.message,"</pre>")});if(a&&a.session){e.sessionParams=a.session,e.removeUrl=this.options.url;var r=this.container.find('[name][type="hidden"]'),o=r.val();r.val(o+" ")}return!0}},{key:"onDropzoneComplete",value:function(e){if(!e.accepted&&!e.rejected){var a={status:"error",message:"".concat(s.translations.PLUGIN_FORM.FILE_UNSUPPORTED,": ").concat(e.name.match(/\..+/).join(""))};return this.handleError({file:e,data:a,mode:"removeFile",msg:"<p>".concat(s.translations.PLUGIN_FORM.FILE_ERROR_ADD," <strong>").concat(e.name,"</strong></p>\n                <pre>").concat(a.message,"</pre>")})}this.options.reloadPage&&t.g.location.reload()}},{key:"onDropzoneRemovedFile",value:function(e){var a=this;if(e.accepted&&!e.rejected){var n=this.container.closest("form"),o=n.find('[name="__unique_form_id__"]'),i=e.removeUrl||this.urls.delete||"".concat(location.href,".json"),l=(i||"").match(/path:(.*)\//),c=new FormData;c.append("filename",e.name),c.append("__form-name__",n.find('[name="__form-name__"]').val()),c.append("name",this.options.dotNotation),c.append("form-nonce",s.config.form_nonce),c.append("uri",this.getURI()),e.sessionParams&&(c.append("__form-file-remover__","1"),c.append("session",e.sessionParams)),o.length&&c.append("__unique_form_id__",o.val()),r().ajax({url:i,data:c,method:"POST",contentType:!1,processData:!1,success:function(){if(l){l=t.g.atob(l[1]);var e=a.container.find('[name][type="hidden"]'),n=JSON.parse(e.val()||"{}");delete n[l],e.val(JSON.stringify(n))}}})}}},{key:"onDropzoneError",value:function(e,a,t){var n=t&&a.error?a.error.message:a;return r()(e.previewElement).find("[data-dz-errormessage]").html(n),this.handleError({file:e,data:{status:"error"},msg:"<pre>".concat(n,"</pre>")})}},{key:"handleError",value:function(e){var a=this,n=e.file,o=e.data,l=e.msg,c=o&&o.status;if("error"!==c&&"unauthorized"!==c)return!1;var d=o&&o.message?o.message:l||s.translations.PLUGIN_FORM.FILEPOND_ERROR_FILESIZE;if(n&&this.dropzone){n.accepted=!1,n.status=i().ERROR,n.rejected=!0;var u=r()(n.previewElement);u.length&&(u.addClass("dz-error"),u.find("[data-dz-errormessage]").html(d)),~this.dropzone.files.indexOf(n)&&setTimeout((function(){a.dropzone.removeFile.call(a.dropzone,n,{silent:!0}),a.dropzone._updateMaxFilesReachedClass()}),100)}var f=this.container.closest(".form-field");if(f.length){var p=f.find(".form-errors");p.length||(p=r()('<div class="form-errors"></div>').appendTo(f)),p.html('<p class="form-message"><i class="fa fa-exclamation-circle"></i> '.concat(d,"</p>"))}else"function"==typeof t.g.alert&&t.g.alert(d);return!0}}])&&c(e.prototype,a),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,a,n}(),m=[],v=r()(),y=function(e,a){var t=r()(a).find(".dropzone.files-upload");t.length&&t.each((function(e,a){a=r()(a),~v.index(a)||h(a)}))},h=function(e){var a=(e=r()(e)).find('input[type="file"]'),t=e.data("grav-file-settings")||{};t.accept&&~t.accept.indexOf("*")&&(t.accept=[""]);var n={url:e.data("file-url-add")||(e.closest("form").attr("action")||s.config.current_url)+".json",paramName:t.paramName||"file",dotNotation:t.name||"file",acceptedFiles:t.accept?t.accept.join(","):a.attr("accept")||e.data("media-types"),maxFilesize:t.filesize||256,maxFiles:t.limit||null,resizeWidth:t.resizeWidth||null,resizeHeight:t.resizeHeight||null,resizeQuality:t.resizeQuality||null,accept:function(e,a){var n=t.resolution,r="";if(!n)return a();if(null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles)return a(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e);var o=new FileReader;if(!n.min&&(t.resizeWidth||t.resizeHeight||!n.max))return a(r);o.onload=function(e){var o=new Image;o.src=e.target.result,o.onload=function(){var e=this;n.min&&Object.keys(n.min).forEach((function(a){e[a]<n.min[a]&&(r+=s.translations.PLUGIN_FORM.RESOLUTION_MIN.replace(/{{attr}}/g,a).replace(/{{min}}/g,n.min[a]))})),t.resizeWidth||t.resizeHeight||n.max&&Object.keys(n.max).forEach((function(a){e[a]>n.max[a]&&(r+=s.translations.PLUGIN_FORM.RESOLUTION_MAX.replace(/{{attr}}/g,a).replace(/{{max}}/g,n.max[a]))})),a(r)}},o.readAsDataURL(e)}};v=v.add(e),e=e[0],m.push(new p({container:e,options:n}))},g=(r()(document).ready((function(){r()(".dropzone.files-upload").each((function(e,a){return h(a)})),r()("body").on("mutation._grav",y)})),m);void 0===window.GravForm&&(window.GravForm={}),window.GravForm.FilesField={addNode:h,instances:g}},"./app/fields/form.js":(e,a,t)=>{t.r(a);var n=t("jquery"),r=t.n(n);r()(document).ready((function(){var e=r()("form").filter((function(e){return r()(e).find('[name="__form-name__"]')}));e.length&&e.each((function(e,a){!function(e){var a='[data-grav-field="toggleable"] input[type="checkbox"]';(e=r()(e)).on("change",a,(function(e){var a=r()(e.target),t=a.is(":checked"),n=a.closest(".form-field"),o=n.find("label.toggleable"),i=n.find(".form-data"),s=i.find("input, select, textarea, button");o.add(i).css("opacity",t?"":.7),s.map((function(e,a){var n=a.selectize;a=r()(a),n?n[t?"enable":"disable"]():a.prop("disabled",!t)}))})),e.find(a).trigger("change")}(a),function(e){e=r()(e);var a=[];["input","select","label[for]","textarea",".selectize-control"].forEach((function(e){a.push("".concat(".form-field-toggleable .form-data"," ").concat(e))})),e.on("mousedown",a.join(", "),(function(e){var a=r()(e.target),t=a.prop("for"),n=(a.hasClass("selectize-control")||a.parents(".selectize-control")).length;if(t&&(a=r()('[id="'.concat(t,'"]'))),n&&(a=a.closest(".selectize-control").siblings("select[name]")),!a.prop("disabled"))return!0;a.closest(".form-field").find('[data-grav-field="toggleable"] input[type="checkbox"]').trigger("click")}))}(a)}))}))},"./app/fields/index.js":(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});t("./app/fields/form.js");var n=t("./app/fields/file.js"),r=t("./app/fields/array.js"),o=t("./app/fields/media.js");t("./app/fields/tabs.js");const i={FileInstances:n.default,ArrayInstances:r.default,Media:{PageMedia:o.default,PageMediaInstances:o.Instance}}},"./app/fields/media.js":(e,a,t)=>{t.r(a),t.d(a,{Instance:()=>g,default:()=>h});var n=t("jquery"),r=t.n(n),o=t("./app/fields/file.js"),i=t("grav-form"),s=t("./node_modules/sortablejs/modular/sortable.esm.js");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var a=function(e,a){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"==l(a)?a:a+""}function u(e,a){if(a&&("object"==l(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,a,t){var n=function(e,a){for(;!{}.hasOwnProperty.call(e,a)&&null!==(e=m(e)););return e}(e,a);if(n){var r=Object.getOwnPropertyDescriptor(n,a);return r.get?r.get.call(arguments.length<3?e:t):r.value}},p.apply(null,arguments)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,a){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e},v(e,a)}var y='\n    <div class="dz-preview dz-file-preview">\n      <div class="dz-details">\n        <div class="dz-filename"><span data-dz-name></span></div>\n        <div class="dz-size" data-dz-size></div>\n        <img data-dz-thumbnail />\n      </div>\n      <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n      <div class="dz-success-mark"><span>✔</span></div>\n      <div class="dz-error-mark"><span>✘</span></div>\n      <div class="dz-error-message"><span data-dz-errormessage></span></div>\n      <a class="dz-remove" title="'.concat(i.translations.PLUGIN_FORM.DELETE,'" href="javascript:undefined;" data-dz-remove>').concat(i.translations.PLUGIN_FORM.DELETE,"</a>\n    </div>").trim(),h=function(e){function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.container,o=void 0===n?"#grav-dropzone":n,l=t.options,c=void 0===l?{}:l;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a);var d,p,v,h=r()("#dropzone-media-template").html()||y;if(c=Object.assign(c,{previewTemplate:h}),d=this,v=[{container:o,options:c}],p=m(p=a),!(e=u(d,f()?Reflect.construct(p,v||[],m(d).constructor):p.apply(d,v))).container.length)return u(e);e.urls={fetch:"".concat(e.container.data("media-url"),"/task").concat(i.config.param_sep,"listmedia"),add:"".concat(e.container.data("media-url"),"/task").concat(i.config.param_sep,"addmedia"),delete:"".concat(e.container.data("media-url"),"/task").concat(i.config.param_sep,"delmedia")},e.dropzone.options.url=e.urls.add,(void 0===e.options.fetchMedia||e.options.fetchMedia)&&e.fetchMedia();var g=r()('[name="'.concat(e.container.data("dropzone-field"),'"]'));return g.length&&(e.sortable=new s.default(e.container.get(0),{animation:150,setData:function(a,t){t=r()(t),e.dropzone.disable(),t.addClass("hide-backface"),a.effectAllowed="copy"},onSort:function(){var a=[];e.container.find("[data-dz-name]").each((function(e,t){var n=(t=r()(t)).text().trim();a.push(n)})),g.val(a.join(","))}})),e}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&v(e,a)}(a,e),n=a,(o=[{key:"onDropzoneRemovedFile",value:function(e){var a=this;if(e.accepted&&!e.rejected){var n=this.container.closest("form"),o=n.find('[name="__unique_form_id__"]'),s=e.removeUrl||this.urls.delete||"".concat(location.href,".json"),l=(s||"").match(/path:(.*)\//),c=new FormData;c.append("filename",e.name),c.append("__form-name__",n.find('[name="__form-name__"]').val()),o.length&&c.append("__unique_form_id__",o.val()),c.append("name",this.options.dotNotation),c.append("form-nonce",i.config.form_nonce),e.sessionParams&&(c.append("__form-file-remover__","1"),c.append("session",e.sessionParams)),r().ajax({url:s,data:c,method:"POST",contentType:!1,processData:!1,success:function(){if(l){l=t.g.atob(l[1]);var e=a.container.find('[name][type="hidden"]'),n=JSON.parse(e.val()||"{}");delete n[l],e.val(JSON.stringify(n))}}})}}},{key:"fetchMedia",value:function(){var e=this,a={order:this.container.closest(".form-field").find('[name="data[header][media_order]"]').val()},t=this.urls.fetch;r().ajax({url:t,method:"POST",data:a,success:function(a){if("string"==typeof a||a instanceof String)return!1;a=a.results,Object.keys(a).forEach((function(t){var n=a[t],r={name:t,size:n.size,accepted:!0,extras:n};e.dropzone.files.push(r),e.dropzone.options.addedfile.call(e.dropzone,r),e.dropzone.options.thumbnail.call(e.dropzone,r,n.url)})),e.container.find(".dz-preview").prop("draggable","true")}})}},{key:"onDropzoneSending",value:function(e,a,t){t.append("name",this.options.dotNotation),t.append("admin-nonce",i.config.admin_nonce)}},{key:"onDropzoneComplete",value:function(e){p(m(a.prototype),"onDropzoneComplete",this).call(this,e),this.sortable.options.onSort(),r()(".dz-preview").prop("draggable","true")}}])&&c(n.prototype,o),l&&c(n,l),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,l}(o.default),g=new h},"./app/fields/tabs.js":(e,a,t)=>{t.r(a);var n=t("jquery"),r=t.n(n);r()("body").on("touchstart click","[data-tabid]",(function(e){e&&e.stopPropagation();var a=r()(e.currentTarget),t=r()('[id="'.concat(a.data("tabid"),'"]'));a.siblings("[data-tabid]").removeClass("active"),a.addClass("active"),t.siblings("[id]").removeClass("active"),t.addClass("active")}))},"./app/main.js":(e,a,t)=>{t.r(a),t.d(a,{Instances:()=>n.default});var n=t("./app/fields/index.js");t("./app/utils/keep-alive.js")},"./app/utils/keep-alive.js":(e,a,t)=>{t.r(a);var n=t("jquery"),r=t.n(n),o=t("grav-form");r()(document).ready((function(){if(r()("[data-grav-keepalive]").length){var e=o.config.session_timeout/1.5*1e3;setInterval((function(){r().ajax({url:"".concat(o.config.base_url_relative,"/task").concat(o.config.param_sep,"keep-alive")})}),Math.min(e,2147483647))}}))},"grav-form":e=>{e.exports=GravForm},jquery:e=>{e.exports=jQuery}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var o=t[e]={id:e,loaded:!1,exports:{}};return a[e](o,o.exports,n),o.loaded=!0,o.exports}n.m=a,e=[],n.O=(a,t,r,o)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){for(var[t,r,o]=e[d],s=!0,l=0;l<t.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](t[l])))?t.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var c=r();void 0!==c&&(a=c)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,r,o]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var t in a)n.o(a,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={site:0};n.O.j=a=>0===e[a];var a=(a,t)=>{var r,o,[i,s,l]=t,c=0;if(i.some((a=>0!==e[a]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var d=l(n)}for(a&&a(t);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},t=self.webpackChunkgrav_plugin_form=self.webpackChunkgrav_plugin_form||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var r=n.O(void 0,["vendor"],(()=>n("./app/main.js")));r=n.O(r)})();